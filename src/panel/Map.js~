Ext.define('Ext.Gis.Map', {
	extend : 'GeoExt.panel.Map',
	initComponent : function() {
		if(!this.layers) {
			this.layers = [];
		}
		this.baseLayer = (new OpenLayers.Layer.MapServer('نقشه اصلی', "http://localhost/cgi-bin/mapserv?SERVICE=WMS&MODE=MAP", {
			layers : 'ALL',
			map : "/var/www/shahr/application/modules/Gis/mapfile/region_wms_all.map"
		}));
		this.layers.push(this.baseLayer);
		this.boundsMap = new OpenLayers.Bounds(551438.385, 3602649.973, 571430.791, 3627258.571);
		this.optionsMap = {
			controls : [new OpenLayers.Control.Navigation(), new OpenLayers.Control.PanZoomBar(), new OpenLayers.Control.LayerSwitcher({
				'ascending' : false
			}), new OpenLayers.Control.ScaleLine(), new OpenLayers.Control.NavToolbar(), new OpenLayers.Control.MousePosition(), new OpenLayers.Control.OverviewMap()],
			maxExtent : this.boundsMap,

			projection : 'EPSG:32639',
			units : 'm',
			maxResolution : 136.21203906250003,
			numZoomLevels : 10,
		};

		this.map = OpenLayers.Map(options);

		this.callParent();
	}
})
